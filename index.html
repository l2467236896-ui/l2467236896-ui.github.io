<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>羽绒服的真实价格构成：一件羽绒服到底贵在哪里？</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #ffffff;
            color: #2c3e50;
            line-height: 1.7;
            overflow-x: hidden;
            position: relative;
        }

        /* Hero Section */
        .hero {
            position: relative;
            height: 100vh;
            min-height: 600px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        /* 固定背景图片 */
        .hero-fixed-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: url('./8.png') no-repeat center center;
            background-size: cover;
            z-index: 1;
        }

        /* Hero内容容器 */
        .hero-content {
            position: relative;
            z-index: 3;
            text-align: center;
            padding: 2rem;
            max-width: 900px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* 第一行标题 */
        .hero-title {
            font-size: clamp(2.5rem, 6vw, 4.5rem);
            font-weight: 700;
            color: #ffffff;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.8);
            margin-bottom: 0.5rem;
            letter-spacing: 0.5px;
            animation: fadeInUp 1s ease-out;
        }

        /* 第二行标题 */
        .hero-title-line2 {
            font-size: clamp(2rem, 5vw, 4rem);
            font-weight: 700;
            color: #ffffff;
            text-shadow: 0 4px 20px rgba(0, 0, 0, 0.8);
            margin-bottom: 1.5rem;
            letter-spacing: 0.5px;
            animation: fadeInUp 1s ease-out 0.2s both;
        }

        .highlight-price {
            font-size: 1.5em;
            color: #ff9800;
            font-weight: 900;
            text-shadow: 0 4px 25px rgba(255, 152, 0, 0.6);
        }

        .hero-subtitle {
            font-size: clamp(1.2rem, 2.5vw, 1.8rem);
            color: #00d4ff;
            font-weight: 600;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.6);
            animation: fadeInUp 1s ease-out 0.4s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 确保所有内容都在背景图片之上 */
        .section, .data-section, .comments-section, .tips-section {
            position: relative;
            z-index: 10;
            background: #ffffff;
        }

        /* Section Styles */
        .section {
            padding: 4rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* 引言部分的描述文字 */
        .introduction-text {
            font-size: 1.2rem;
            line-height: 1.8;
            color: #37474f;
            text-align: center;
            max-width: 900px;
            margin: 0 auto 3rem;
            padding: 0;
        }

        /* 引言模块边距调整 */
        .introduction-section {
            position: relative;
            padding: 4rem 0 !important;
            max-width: 100% !important;
            margin: 0 auto;
            z-index: 10;
        }

        .introduction-content {
            position: relative;
            z-index: 11;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* 模块连接文字样式 - 修改为无方框样式 */
        .module-connection {
            font-size: 1.3rem;
            line-height: 1.8;
            color: #37474f;
            text-align: center;
            max-width: 900px;
            margin: 0 auto 1.5rem; /* 减少下边距 */
            padding: 0;
            font-weight: 500;
        }

        /* 图表说明文字样式 - 修改为左对齐 */
        .chart-explanation {
            font-size: 1.15rem;
            line-height: 1.8;
            color: #546e7a;
            text-align: left; /* 修改为左对齐 */
            max-width: 900px;
            margin: 2rem auto 3rem;
            padding: 0;
        }

        /* 成本构成部分的特殊副标题 */
        #costSection .section-subtitle {
            color: #d5ce4f;  
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(255, 87, 34, 0.3);
        }

        /* 成本分析文字说明 */
        .cost-analysis-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #37474f;
            max-width: 900px;
            margin: 2rem auto 3rem;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border-left: 4px solid #0288d1;
        }

        .cost-analysis-text h4 {
            color: #0d47a1;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .cost-analysis-text ul {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }

        .cost-analysis-text li {
            margin-bottom: 0.8rem;
        }

        /* 数据来源 */
        .data-source {
            font-size: 0.9rem;
            color: #78909c;
            text-align: center;
            margin-top: 1rem;
            font-style: italic;
            padding: 0.5rem;
            border-top: 1px dashed #b0bec5;
        }

        /* WordCloud部分 */
        .wordcloud-container {
            background: #E7E89F; 
            border-radius: 16px;
            padding: 2rem; 
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            margin-bottom: 4rem;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .wordcloud-image-container {
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
            text-align: center;
        }

        .wordcloud-image {
            width: 100%;
            height: auto;
            max-height: 500px;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        /* Comments Section */
        .comments-section {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 4rem 2rem;
        }

        .comments-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .comments-section .section-subtitle {
            color: #00bfa5 !important;
            font-weight: 600;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        .comment-item,
        .news-item {
            background: rgb(255, 255, 255);
            border-radius: 50px;
            padding: 1.5rem 2.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            opacity: 0;
            transform: translateX(-50px);
            transition: all 0.6s ease;
            position: relative;
            overflow: hidden;
        }

        .comment-item::before,
        .news-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 4px;
            background: linear-gradient(to bottom, #0288d1, #26c6da);
        }

        .news-item::before {
            background: linear-gradient(to bottom, #ff9800, #f57c00);
        }

        .comment-item.visible,
        .news-item.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .comment-source {
            display: inline-block;
            font-size: 0.85rem;
            color: #0288d1;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .news-source {
            display: inline-block;
            font-size: 0.85rem;
            color: #ff9800;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .comment-text,
        .news-text {
            font-size: 1.05rem;
            color: #37474f;
            line-height: 1.6;
        }

        /* Stats Badge */
        .stats-badge {
            display: inline-block;
            background: linear-gradient(135deg, #ffd54f, #ff9800);
            color: #1a1a1a;
            padding: 0.5rem 1.5rem;
            border-radius: 30px;
            font-weight: 700;
            font-size: 0.9rem;
            margin-left: 1rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .section {
                padding: 3rem 1.5rem;
            }
            
            .introduction-section {
                padding: 3rem 0 !important;
            }
            
            .introduction-content {
                padding: 0 1.5rem;
            }
            
            .wordcloud-container {
                padding: 1.5rem;
                min-height: 300px;
                margin: 0 1.5rem;
            }
            
            .wordcloud-image {
                max-height: 350px;
            }

            .comment-item,
            .news-item {
                padding: 1.2rem 1.8rem;
                border-radius: 35px;
            }
            
            .introduction-text {
                font-size: 1.1rem;
                margin-bottom: 2.5rem;
            }
            
            .module-connection {
                font-size: 1.15rem;
                margin-bottom: 1.5rem; /* 移动端也保持一致 */
            }
            
            .chart-explanation {
                font-size: 1.05rem;
                margin: 1.5rem auto 2.5rem;
            }
        }

        /* Scroll Indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            animation: bounce 2s infinite;
            z-index: 4;
            cursor: pointer;
        }

        .scroll-indicator svg {
            width: 30px;
            height: 30px;
            fill: rgb(255, 255, 255);
            filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.3));
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            40% {
                transform: translateX(-50%) translateY(-10px);
            }
            60% {
                transform: translateX(-50%) translateY(-5px);
            }
        }

        /* Data Visualization Sections */
        .data-section {
            padding: 4rem 2rem;
            position: relative;
            overflow: hidden;
        }

        .data-section:nth-child(even) {
            background: #ffffff;
        }

        /* 修改成本部分的背景图片交互 - 添加调试样式确保背景正确显示 */
        #costSection {
            position: relative;
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
            background-attachment: fixed !important;
            transition: background-image 0.5s ease-in-out;
            background-image: url('https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/1.jpg');
            min-height: 600px; /* 确保有足够的高度显示背景 */
        }

        #costSection.duck-mode {
            background-image: url('https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/2.jpg') !important;
        }

        #costSection::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.2);
            z-index: 1;
        }

        #costSection > .section {
            position: relative;
            z-index: 2;
            background: rgba(255, 255, 255, 0.95); /* 添加半透明白色背景 */
            border-radius: 16px;
            margin-top: 2rem;
            padding: 2.5rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .chart-container {
            max-width: 800px;
            margin: 0 auto 3rem;
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            position: relative;
            z-index: 1;
        }

        .chart-wrapper {
            position: relative;
            height: 400px;
            margin-bottom: 2rem;
        }

        .toggle-group {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0 3rem;
            flex-wrap: wrap;
            position: relative;
            z-index: 1;
        }

        .toggle-btn {
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #e3f2fd;
            color: #0d47a1;
            position: relative;
            z-index: 1;
        }

        .toggle-btn.active {
            background: linear-gradient(135deg, #0288d1, #01579b);
            color: rgb(255, 255, 255);
            box-shadow: 0 4px 15px rgba(2, 136, 209, 0.3);
        }

        .toggle-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        /* 充绒量水杯展示 */
        .filling-cup-container {
            max-width: 900px;
            margin: 2rem auto;
            padding: 2rem;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            position: relative;
            z-index: 1;
        }

        .cup-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .cup-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 1rem;
            border-radius: 12px;
        }

        .cup-item:hover {
            transform: translateY(-5px);
            background: rgba(227, 242, 253, 0.3);
        }

        .cup-item.active {
            background: rgba(2, 136, 209, 0.1);
            border: 2px solid #0288d1;
        }

        .cup-image {
            width: 100%;
            height: 180px;
            object-fit: contain;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .cup-item:hover .cup-image {
            transform: scale(1.05);
        }

        .cup-label {
            font-weight: 700;
            color: #0d47a1;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .cup-details {
            font-size: 0.9rem;
            color: #546e7a;
            text-align: center;
            line-height: 1.4;
        }

        .cup-filling-amount {
            font-weight: 700;
            color: #ff9800;
            font-size: 1.2rem;
        }

        .cup-price-range {
            font-weight: 600;
            color: #0288d1;
            margin-top: 0.5rem;
        }

        /* 交互描述文字样式 - 恢复方框样式 */
        .cup-description {
            max-width: 800px;
            margin: 2rem auto 0;
            padding: 1.5rem;
            background: #f9f9f9;
            border-radius: 12px;
            font-size: 1rem;
            line-height: 1.6;
            color: #37474f;
            border-left: 4px solid #4CAF50;
            display: none;
        }

        .cup-description.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .cup-data-source {
            font-size: 0.85rem;
            color: #78909c;
            text-align: center;
            margin-top: 1rem;
            font-style: italic;
            padding: 0.5rem;
            border-top: 1px dashed #b0bec5;
        }

        .info-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem auto;
            max-width: 1200px;
            position: relative;
            z-index: 1;
        }

        .info-card {
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            border-left: 4px solid #0288d1;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
            background: white;
        }

        /* 信息卡片中的图片容器 */
        .info-card-image {
            position: absolute; 
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            margin-bottom: 0; 
            border-radius: 16px; 
            overflow: hidden;
            background: #f5f5f5;
            display: block;
            z-index: 1; 
        }

        .info-card-image img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            display: block;
            transition: transform 0.5s ease;
        }

        .info-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, 
            rgba(0, 0, 0, 0.3) 0%,
            rgba(0, 0, 0, 0.6) 100%);
            z-index: 2;
            border-radius: 16px;
            pointer-events: none; 
        }

        .info-card > *:not(.info-card-image) {
            position: relative;
            z-index: 3; 
            color: rgb(255, 255, 255) !important; 
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .info-card:hover .info-card-image img {
            transform: scale(1.05);
       }

        .info-card-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .info-card-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #0d47a1;
            margin-bottom: 0.5rem;
        }

        .info-card-desc {
            color: #546e7a;
            line-height: 1.6;
        }

        .waterfall-chart {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            position: relative;
            z-index: 1;
        }

        .waterfall-item {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
            animation: slideInRight 0.6s ease-out both;
        }

        .waterfall-label {
            flex: 0 0 150px;
            font-weight: 600;
            color: #0d47a1;
        }

        .waterfall-bar {
            flex: 1;
            height: 40px;
            background: linear-gradient(135deg, #0288d1, #26c6da);
            border-radius: 8px;
            display: flex;
            align-items: center;
            padding: 0 1rem;
            color: white;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .waterfall-bar:hover {
            transform: scaleX(1.02);
            box-shadow: 0 4px 15px rgba(2, 136, 209, 0.3);
        }

        .waterfall-bar.total {
            background: linear-gradient(135deg, #ff9800, #f57c00);
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .price-flow {
            max-width: 900px;
            margin: 3rem auto;
            padding: 2rem;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            position: relative;
            z-index: 1;
        }

        .flow-step {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .flow-step:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .flow-label {
            font-weight: 700;
            color: #0d47a1;
            font-size: 1.1rem;
        }

        .flow-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ff9800;
        }

        .flow-arrow {
            text-align: center;
            font-size: 2rem;
            color: #0288d1;
            margin: -1rem 0;
        }

        .tips-section {
            background: #f8f9fa;
            color: #2c3e50;
            padding: 4rem 2rem;
        }

        .tips-section .section-title {
            color: #0d47a1 !important;
        }

        .tips-section .section-subtitle {
            color: #546e7a !important;
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            margin: 3rem auto;
        }

        .tip-card {
            background: #ffffff;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            border: 1px solid #e0e0e0;
            transition: all 0.3s ease;
        }

        .tip-card:hover {
            background: #ffffff;
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }

        .tip-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #0288d1;
        }

        .tip-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: #0d47a1;
        }

        .tip-desc {
            line-height: 1.6;
            color: #546e7a;
        }

        /* 以下是第一个柱状图代码的CSS样式 */
        .cost-analysis-chart-container {
            max-width: 900px;
            margin: 2rem auto 3rem;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            padding: 2rem;
            position: relative;
            z-index: 1;
        }
        
        .cost-analysis-chart-container * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        .cost-analysis-chart-container .container {
            max-width: 100%;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.08);
            padding: 25px;
        }
        
        .cost-analysis-chart-container .header {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .cost-analysis-chart-container .header h1 {
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 26px;
        }
        
        .cost-analysis-chart-container .header p {
            color: #7f8c8d;
            font-size: 15px;
        }
        
        .cost-analysis-chart-container .chart-container {
            position: relative;
            height: 450px;
            margin: 30px 0;
        }
        
        .cost-analysis-chart-container .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin: 25px 0;
            justify-content: center;
        }
        
        .cost-analysis-chart-container .control-button {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
        }
        
        .cost-analysis-chart-container .control-button:hover {
            background-color: #2980b9;
            transform: translateY(-1px);
        }
        
        .cost-analysis-chart-container .control-button.active {
            background-color: #95a5a6;
            opacity: 0.7;
        }
        
        .cost-analysis-chart-container .control-button.reset {
            background-color: #95a5a6;
        }
        
        .cost-analysis-chart-container .control-button.reset:hover {
            background-color: #7f8c8d;
        }
        
        .cost-analysis-chart-container .target-line {
            position: absolute;
            top: 0;
            height: 100%;
            width: 2px;
            background-color: #e74c3c;
            z-index: 10;
            pointer-events: none;
        }
        
        .cost-analysis-chart-container .target-label {
            position: absolute;
            background-color: #e74c3c;
            color: white;
            padding: 4px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
            z-index: 11;
        }
        
        .cost-analysis-chart-container .cost-summary {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            text-align: center;
        }
        
        .cost-analysis-chart-container .cost-total {
            font-size: 22px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .cost-analysis-chart-container .cost-breakdown {
            font-size: 14px;
            color: #555;
            margin-top: 5px;
        }
        
        .cost-analysis-chart-container .button-hint {
            text-align: center;
            margin-top: 10px;
            font-size: 13px;
            color: #7f8c8d;
            font-style: italic;
        }
        
        /* 新增：300元以下羽绒服图片展示区 */
        .low-price-images-container {
            max-width: 1200px;
            margin: 2rem auto 3rem;
            padding: 2rem;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            position: relative;
            z-index: 1;
        }
        
        .low-price-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .low-price-item {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            background: #f8f9fa;
        }
        
        .low-price-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .low-price-img {
            width: 100%;
            height: 220px;
            object-fit: cover;
            display: block;
        }
        
        .low-price-title {
            padding: 1.2rem 1rem;
            font-size: 1.2rem;
            font-weight: 700;
            color: #0d47a1;
            text-align: center;
            background: white;
            border-bottom-left-radius: 12px;
            border-bottom-right-radius: 12px;
        }
        
        .low-price-hover-info {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            color: white;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            text-align: center;
            line-height: 1.6;
            font-size: 1rem;
        }
        
        .low-price-item:hover .low-price-hover-info {
            opacity: 1;
            pointer-events: auto;
        }
        
        .low-price-source {
            font-size: 0.85rem;
            color: #78909c;
            text-align: center;
            margin-top: 1rem;
            font-style: italic;
            padding: 0.5rem;
            border-top: 1px dashed #b0bec5;
        }

        @media (max-width: 992px) {
            .low-price-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .chart-wrapper {
                height: 300px;
            }

            .cup-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1.5rem;
            }

            .cup-image {
                height: 140px;
            }

            .waterfall-label {
                flex: 0 0 100px;
                font-size: 0.9rem;
            }

            .flow-step {
                flex-direction: column;
                text-align: center;
                gap: 0.5rem;
            }
            
            .cost-analysis-chart-container .chart-container {
                height: 350px;
            }
            
            .cost-analysis-chart-container .controls {
                gap: 8px;
            }
            
            .cost-analysis-chart-container .control-button {
                padding: 8px 15px;
                font-size: 13px;
            }
            
            .low-price-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .low-price-img {
                height: 200px;
            }
        }

        /* 新增：选购指南部分样式 */
        .factors-container,
        .steps-container {
            max-width: 1200px;
            margin: 3rem auto 4rem;
            padding: 2.5rem;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
        }

        .factors-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .factor-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            border-top: 4px solid #0288d1;
        }

        .factor-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #0d47a1;
            margin-bottom: 1rem;
        }

        .factor-image-placeholder {
            width: 100%;
            height: 180px;
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-radius: 8px;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #0d47a1;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .factor-desc {
            font-size: 1rem;
            line-height: 1.6;
            color: #546e7a;
        }

        .summary-box {
            background: #e8f5e8;
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 2rem;
            border-left: 4px solid #4CAF50;
        }

        .steps-video-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: start;
        }

        .video-placeholder {
            background: linear-gradient(135deg, #2c3e50, #4a6491);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .video-source {
            font-size: 0.85rem;
            color: #78909c;
            text-align: center;
            margin-top: 1rem;
            font-style: italic;
            padding: 0.5rem;
            border-top: 1px dashed #b0bec5;
        }

        .step-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #e0e0e0;
        }

        .step-number {
            flex-shrink: 0;
            width: 40px;
            height: 40px;
            background: #0288d1;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            margin-right: 1rem;
        }

        /* 响应式设计 - 选购指南 */
        @media (max-width: 992px) {
            .factors-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .steps-video-wrapper {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
        }

        @media (max-width: 768px) {
            .factors-grid {
                grid-template-columns: 1fr;
            }
            
            .factors-container,
            .steps-container {
                padding: 1.5rem;
            }
            
            .factor-image-placeholder {
                height: 150px;
            }
            
            .video-placeholder > div {
                height: 250px;
            }
        }
        
        /* 新增：减少间距的类 */
        .reduce-top-margin {
            padding-top: 2rem !important;
        }
        
        /* 修改：论文样式数据来源 */
        .paper-data-source {
            font-size: 0.85rem;
            color: #666;
            line-height: 1.6;
            margin-top: 2rem;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #0288d1;
        }
        
        .paper-data-source div {
            margin-bottom: 0.5rem;
        }
        
        .paper-data-source div:last-child {
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <!-- Hero Section -->
    <section class="hero">
        <!-- 固定背景图片 -->
        <div class="hero-fixed-bg"></div>
        
        <!-- 内容容器 -->
        <div class="hero-content">
            <h1 class="hero-title">
                <span class="highlight-price">300元</span>以下
            </h1>
            <h1 class="hero-title-line2">真的买不到真羽绒服？</h1>
            <p class="hero-subtitle">深度数据分析 · 成本拆解 · 真相揭秘</p>
        </div>
        
        <!-- 滚动指示器 -->
        <div class="scroll-indicator">
            <svg viewBox="0 0 24 24">
                <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
            </svg>
        </div>
    </section>

    <!-- 引言 Section -->
    <section class="section introduction-section">
        <div class="introduction-content">
            <div class="introduction-text">
                <p>一到冬季，社交媒体上关于<strong>#300元能买到真羽绒服吗？#</strong>的话题总是频频出现。</p>
                <p>我们抓取了抖音相关话题的评论并提取关键词统计出现次数（如"假羽绒"88次，"充绒量"59次，"质量"41次等）。并将这些关键词做成了一个词云图。</p>
            </div>
            
            <div class="wordcloud-container">
                <div class="wordcloud-image-container">
                    <img src="https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/4.jpg" alt="羽绒服关键词词云" class="wordcloud-image">
                </div>
                <p style="text-align: center; color: #666; font-size: 0.95rem; margin-top: 1.5rem;">
                    | 基于抖音相关话题评论生成的关键词可视化 | 
                </p>
            </div>
        </div>
    </section>

    <!-- 成本构成部分 -->
    <section class="data-section" id="costSection">
        <div class="section">
            <div class="module-connection">
                要回答这个问题，我们首先要了解一件羽绒服的真正成本是多少。<br>
                我们查看了多篇新闻报道，绘制了以下成本构成图
            </div>

            <!-- 修改按钮onclick调用，传递event参数 -->
            <div class="toggle-group">
                <button class="toggle-btn active" onclick="switchCostChart(event, 'goose')">🪿 鹅绒款（840-1200元/kg）</button>
                <button class="toggle-btn" onclick="switchCostChart(event, 'duck')">🦆 鸭绒款（420-550元/kg）</button>
            </div>

            <div class="chart-container">
                <div class="chart-wrapper">
                    <canvas id="costChart"></canvas>
                </div>
                
                <div class="chart-explanation">
                    <p>数据显示，羽绒原料是成本的最大变量：鹅绒的单价约为鸭绒的2倍（鹅绒840-1200元/kg vs 鸭绒420-550元/kg）。</p>
                    <p>面料、辅料、人工的比例相对固定，因此在鸭绒服中这部分固定成本的相对比重更大。</p>
                    <p>相同充绒量下，鹅绒服的核心成本比鸭绒服高约30%-40%，这主要来源于羽绒单价的差异。</p>
                    <p>以上成本为基础，品牌溢价与渠道加价会进一步放大最终售价。</p>
                    <p>高端品牌往往采用更高含绒率的鹅绒、功能性面料以及投入更高的营销费用，从而形成千元甚至上万元的终端售价。</p>
                </div>
                
                <div class="data-source">
                    数据来源：大象新闻《300元以下难购真羽绒服？记者调查》 | 基于2025年市场调研数据
                </div>
            </div>

            <div class="info-cards">
                <div class="info-card">
                    <div class="info-card-icon">🪿</div>
                    <div class="info-card-image">
                        <img src="./6.png" alt="白鹅绒细节">
                    </div>
                    <div class="info-card-title">白鹅绒款</div>
                    <div class="info-card-desc">
                        羽绒原料：50%<br>
                        面料成本：25%<br>
                        辅料成本：5%<br>
                        人工加工：13.5%<br>
                        其他费用：6.5%
                    </div>
                </div>
                <div class="info-card">
                    <div class="info-card-icon">🦆</div>
                    <div class="info-card-image">
                        <img src="./19.png" alt="白鸭绒细节">
                    </div>
                    <div class="info-card-title">白鸭绒款</div>
                    <div class="info-card-desc">
                        羽绒原料：35%<br>
                        面料成本：25%<br>
                        辅料成本：5%<br>
                        人工加工：13.5%<br>
                        其他费用：21.5%
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 充绒量对价格影响部分 -->
    <section class="data-section reduce-top-margin">
        <div class="section">
            <div class="module-connection">
                除了羽绒类型，决定一件羽绒服价格和保暖性的最直接因素是充绒量。<br>
                我们用实际产品对比来展示不同充绒量对应的价格差异
            </div>

            <div class="filling-cup-container">
                <div class="cup-grid" id="cupContainer">
                    <!-- 水杯将通过JavaScript动态生成 -->
                </div>
                
                <!-- 恢复交互描述文字 -->
                <div id="cupDescription" class="cup-description">
                    <!-- 描述内容将通过JavaScript动态生成 -->
                </div>
                
                <div class="cup-data-source">
                    数据来源：新浪财经、毒sir财经、新闻坊等
                </div>
            </div>
        </div>
    </section>

    <!-- 原材料价格走势部分 -->
    <section class="data-section reduce-top-margin">
        <div class="section">
            <div class="module-connection">
                是什么推高了羽绒服的成本？<br>
                近25年的原材料价格数据揭示了一个明显的上涨趋势
            </div>

            <div class="chart-container">
                <div class="chart-wrapper">
                    <canvas id="priceChart"></canvas>
                </div>
                
                <div class="chart-explanation">
                    2005年至今，90%白鹅绒价格从600元/kg飙升至1100元/kg，涨幅83%；<br>
                    白鸭绒从200元/kg涨至559元/kg，涨幅179.5%。<br>
                    羽绒产业专家分析："2022年新国标实施+2023年寒潮消耗库存，双重因素导致价格暴涨"
                </div>
            </div>

            <div class="info-cards">
                <div class="info-card" style="border-left-color: #ff9800;">
                    <div class="info-card-icon">🦢</div>
                    <div class="info-card-title">2022年：新国标实施</div>
                    <div class="info-card-desc">GB/T 14272-2021提高质量门槛，绒子含量≥50%才能称为羽绒服</div>
                </div>
                <div class="info-card" style="border-left-color: #ff9800;">
                    <div class="info-card-icon">❄️</div>
                    <div class="info-card-title">2023年后：价格暴涨</div>
                    <div class="info-card-desc">寒潮消耗库存，养殖周期不匹配，原料供应紧张导致价格上涨</div>
                </div>
            </div>
        </div>
    </section>

    <!-- 成本示例部分 -->
    <section class="data-section reduce-top-margin">
        <div class="section">
            <div class="module-connection">
                综合以上因素，我们来看一件标准羽绒服的成本构成。<br>
                以2025年市场为例：90%白鸭绒、充绒150g的羽绒服
            </div>

            <!-- 插入第一个柱状图代码 -->
            <div class="cost-analysis-chart-container">
                <div class="container">
                    <div class="header">
                        <h1>标准羽绒服成本构成</h1>
                        <p>各成本要素按费用区间最高价显示，堆叠展示总成本构成</p>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="costChartBar"></canvas>
                        <div class="target-line" id="targetLine"></div>
                        <div class="target-label" id="targetLabel">300元</div>
                    </div>
                    
                    <div class="controls">
                        <button class="control-button" id="reduceDown" title="降低充绒量至100g">降低充绒量</button>
                        <button class="control-button" id="reduceBrand" title="降低品牌营销投入">降低品牌溢价</button>
                        <button class="control-button" id="reduceFabric" title="使用普通面料替代防泼水面料">普通面料</button>
                        <button class="control-button" id="reduceLabor" title="优化生产流程，提高效率">优化生产</button>
                        <button class="control-button" id="reduceChannel" title="减少渠道抽成，直销模式">降低渠道抽成</button>
                        <button class="control-button reset" id="resetAll" title="恢复原始成本构成">重置</button>
                    </div>
                    
                    <div class="button-hint">
                        (点击按钮模拟不同成本控制策略，已应用的按钮会变灰)
                    </div>
                    
                    <div class="cost-summary">
                        <div class="cost-total" id="totalCost">总成本: 298元</div>
                        <div class="cost-breakdown" id="costBreakdown">预计零售价: 447-656元 (1.5-2.2倍加价)</div>
                    </div>
                    <div class="data-source">
                数据来源：时代财经、中研网、东方网
            </div>
                </div>
            </div>
            
            <div class="chart-explanation">
                从成本构成可以看出，一件合格羽绒服的基本成本已经超过300元。<br>
                如果售价低于这个价格，厂家往往会通过降低充绒量、使用低含绒率原料、降低品牌溢价等方式降低成本。
            </div>

        </div>
    </section>

    <!-- 300元以下羽绒服的真相 -->
    <section class="data-section reduce-top-margin">
        <div class="section">
            <div class="module-connection">
                那么，市场上那些标价300元以下的羽绒服都是什么情况？<br>
                我们通过数据分析发现了六种合规的低价羽绒服类型
            </div>

            <!-- 替换为图片展示模块 -->
            <div class="low-price-images-container">
                <div class="low-price-grid" id="lowPriceGrid">
                    <!-- 六张图片将通过JavaScript动态生成 -->
                </div>
                
                <div class="low-price-source">
                    数据来源：南宁晚报、中国宁波网、中山发布
                </div>
            </div>

            <div class="chart-explanation">
                数据显示，300元以下的羽绒服并非都是"假货"，但通常属于以下类型：<br>
                轻薄款、儿童款、库存清仓款、使用低成本填充物、基础设计款或供应链优化款。<br>
                这些产品在充绒量、面料质量或工艺上有所妥协，以降低价格。
            </div>
        </div>
    </section>

    <!-- 渠道加价分析 -->
    <!-- 替换为记忆中的代码 -->
    <section class="data-section reduce-top-margin">
        <div class="section">
            <div class="module-connection">
                一件羽绒服从工厂到消费者手中，需要经过层层加价。<br>
                我们来分析一下这中间的"水分"到底有多大
            </div>

            <div style="max-width: 900px; margin: 2rem auto 2.5rem; font-size: 1.15rem; line-height: 1.8; color: #37474f;">
                <p>在羽绒服销售链条中，一件吊牌价1500元的羽绒服，从工厂到消费者手中需要经过多级加价。品牌方通常以吊牌价4-6折卖给经销商，经销商再加价转给零售商，最后由零售商完成终端销售。</p>
            </div>

            <div style="max-width: 700px; margin: 0 auto 1.5rem; text-align: center;">
                <img src="https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/13.jpg" alt="吊牌价为1500元的羽绒服各级加价情况" 
                     style="width: 700px; height: 224px; object-fit: cover; border-radius: 8px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);">
                <p style="font-size: 0.9rem; color: #78909c; margin-top: 0.5rem; font-style: italic;">图片来源：新京报</p>
            </div>

            <div style="max-width: 900px; margin: 2.5rem auto 3rem; font-size: 1.15rem; line-height: 1.8; color: #37474f;">
                <p>以成本300元的羽绒服为例，品牌方以900元（吊牌价6折）批发给经销商，经销商加价100元至1000元给零售商，零售商按1.5倍加价至1500元销售。品牌方利润约600元，经销商约100元，零售商理论利润约500元。</p>
                
                <p>但实际上，零售商常以7折（1050元）促销，此时利润仅50元。业内人士表示，品牌方掌握定价权，利润大头在品牌方，零售商利润微薄，且无法自由调价。</p>
            </div>
            
            <div class="chart-explanation">
                数据显示，传统分销模式加价最高可达3倍，<br>
                而量贩/折扣渠道通过压缩中间环节，可以将加价倍数控制在1.5倍左右。<br>
                这也是为什么电商渠道的价格往往比实体店更有优势。
            </div>

            <div class="data-source">
                数据来源：新京报、澎湃新闻
            </div>
        </div>
    </section>
    <!-- 替换结束 -->

    <!-- 网友热评与媒体报道 -->
    <section class="comments-section">
        <div class="comments-container">
            <div class="module-connection" style="color: #37474f;">
                面对复杂的定价体系和质量参差不齐的市场，<br>
                消费者的真实声音是怎样的？<br>
                我们整理了社交媒体上的热门讨论和媒体报道
            </div>

            <div class="comment-item" data-delay="0">
                <span class="comment-source">🗣️ 网友评论</span>
                <p class="comment-text">"算了，我还是买点感冒药吧！"<span class="stats-badge">💬 1.4万赞</span></p>
            </div>

            <div class="news-item" data-delay="200">
                <span class="news-source">🗣️ 网友评论</span>
                <p class="comment-text">"我买几只大鹅[杀马特]，拔毛自己填充[笑哭]"<span class="stats-badge">💬 0.3万赞</span></p>
            </div>

            <div class="comment-item" data-delay="400">
                <span class="comment-source">🗣️ 网友评论</span>
                <p class="comment-text">"穿棉衣吧，老祖宗传下来的棉花做冬衣，又保暖又亲民"<span class="stats-badge">💬 0.5万赞</span></p>
            </div>

            <div class="news-item" data-delay="600">
                <span class="news-source">📰 财金新闻</span>
                <p class="news-text">《高端羽绒服售价破万，品牌溢价还是品质保证？》 - 时尚芭莎</p>
            </div>

            <div class="comment-item" data-delay="800">
                <span class="comment-source">🗣️ 网友评论</span>
                <p class="comment-text">"我不怕300、500买"真羽绒"，我怕的是花2000依然买的假羽绒、毒羽绒。[困]"<span class="stats-badge">💬 0.9万赞</span></p>
            </div>

            <div class="news-item" data-delay="1000">
                <span class="news-source">📰 央视新闻</span>
                <p class="news-text">《市场监管局抽查：30%低价羽绒服存在质量问题》 - CCTV财经</p>
            </div>

            <div class="comment-item" data-delay="1200">
                <span class="comment-source">🗣️ 网友评论</span>
                <p class="comment-text">"大品牌3000+的羽绒服和500元的国货对比，保暖效果差别不大，就是面料好点。"<span class="stats-badge">💬 1.5万赞</span></p>
            </div>

            <div class="news-item" data-delay="1400">
                <span class="news-source">📰 行业报告</span>
                <p class="news-text">《2024中国羽绒服市场白皮书：成本与定价分析》 - 中国纺织工业联合会</p>
            </div>

            <div class="comment-item" data-delay="1600">
                <span class="comment-source">🗣️ 网友评论</span>
                <p class="comment-text">"假的不敢买，真的买不起，那这个冬天怎么办？" <span class="stats-badge">💬 0.6万赞</span></p>
            </div>

            <div class="news-item" data-delay="1800">
                <span class="news-source">📰 消费指南</span>
                <p class="news-text">《如何挑选性价比羽绒服？专家教你看这三个关键指标》 - 消费者协会</p>
            </div>
        </div>
    </section>

    <!-- 选购指南部分 -->
    <section class="tips-section">
        <div class="section">
            <div class="module-connection" style="color: #37474f;">
                综合以上数据分析和消费者反馈，我们得出以下结论。<br>
                同时，我们也准备了一份实用的选购指南，帮助您做出明智的消费决策
            </div>

            <!-- 第一部分：影响羽绒服保暖程度的三个因素 -->
            <div class="factors-container">
                <h2 style="text-align: center; font-size: 1.8rem; color: #0d47a1; margin-bottom: 1.5rem; font-weight: 700;">
                    影响羽绒服保暖程度的三个因素
                </h2>
                <p style="text-align: center; font-size: 1.2rem; line-height: 1.7; color: #37474f; margin-bottom: 2.5rem;">
                    掌握绒子含量、充绒量和蓬松度这三个关键指标，在选购羽绒服时就能做出更适合自己的决策，找到既舒适又保暖的理想选择。
                </p>
                
                <div class="factors-grid">
                    <!-- 绒子含量 -->
                    <div class="factor-card">
                        <div style="font-size: 2.5rem; margin-bottom: 1rem;">📋</div>
                        <div class="factor-title">
                            绒子含量
                        </div>
                        <div class="factor-image-placeholder">
                            <div class="factor-image-placeholder">
                                 <img src="https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/16.jpg" alt="绒子含量示意图" style="width:100%; height:100%; object-fit:cover; border-radius:8px;">
                            </div>
                        </div>
                        <div class="factor-desc">
                            在羽绒服中实际发挥保暖作用的是"绒子"，根据GB/T 14272-2021《羽绒服装》标准，<strong>绒子含量超过50%的，才算是合格的羽绒服</strong>。绒子含量越高越好，最高为95%。
                            <br><br>
                            消费者购买时只要看服装标签上的绒子含量，就能大概判断出羽绒服的保暖性能。
                        </div>
                    </div>
                    
                    <!-- 充绒量 -->
                    <div class="factor-card" style="border-top-color: #4CAF50;">
                        <div style="font-size: 2.5rem; margin-bottom: 1rem;">⚖️</div>
                        <div class="factor-title">
                            充绒量
                        </div>
                        <div class="factor-image-placeholder" style="background: linear-gradient(135deg, #e8f5e9, #c8e6c9); color: #2e7d32;">
                            <div class="factor-image-placeholder">
                                <img src="https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/3.jpg" alt="充绒量示意图" style="width:100%; height:100%; object-fit:cover; border-radius:8px;">
                            </div>
                        </div>
                        <div class="factor-desc">
                            充绒量是衡量羽绒服保暖性能的重要指标，指的是羽绒服内部纯羽绒的净重量。需注意的是，"绒子含量"高但充绒量低，也不抗冻。
                            <br><br>
                            <strong>选购建议：</strong><br>
                            初冬轻薄款：40~90克<br>
                            一般厚度短款：130克左右<br>
                            中等厚度：180克左右<br>
                            北方户外穿着：180克以上
                        </div>
                    </div>
                    
                    <!-- 蓬松度 -->
                    <div class="factor-card" style="border-top-color: #FF9800;">
                        <div style="font-size: 2.5rem; margin-bottom: 1rem;">☁️</div>
                        <div class="factor-title">
                            蓬松度
                        </div>
                        <div class="factor-image-placeholder" style="background: linear-gradient(135deg, #fff3e0, #ffe0b2); color: #ef6c00;">
                            <div class="factor-image-placeholder">
                                <img src="https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/14.jpg" alt="蓬松度示意图" style="width:100%; height:100%; object-fit:cover; border-radius:8px;">
                            </div>
                        </div>
                        <div class="factor-desc">
                            蓬松度是每单位羽绒所储存空气体积的能力。通俗来说，<strong>蓬松度越高，羽绒储存的空气越多，保暖性能就越好</strong>。
                            <br><br>
                            目前我国的羽绒服标签中还不需要明示蓬松度，不过，国际上评价羽绒服品质，<strong>蓬松度650以上为较好，大于800即为高品质羽绒</strong>。
                        </div>
                    </div>
                </div>
                
                <div class="summary-box">
                    <h4 style="color: #2e7d32; font-size: 1.2rem; margin-bottom: 0.8rem; font-weight: 600;">📌 选购标准总结：</h4>
                    <p style="font-size: 1.05rem; line-height: 1.6; color: #37474f; margin: 0;">
                        看羽绒服合格证上的执行标准是否为国标GB/T 14272-2021；<br>
                        看"绒子含量"，越高越好，最高为95%；<br>
                        看"充绒量"，克数越大越保暖（但克数太大穿起来可能会太沉）；<br>
                        如果有，可以看"蓬松度"。蓬松度大于800即为高品质羽绒。
                    </p>
                </div>
            </div>

            <!-- 第二部分：四步挑选羽绒服 -->
            <div class="steps-container">
                <h2 style="text-align: center; font-size: 1.8rem; color: #0d47a1; margin-bottom: 1.5rem; font-weight: 700;">
                    四步挑选羽绒服
                </h2>
                <p style="text-align: center; font-size: 1.2rem; line-height: 1.7; color: #37474f; margin-bottom: 2.5rem;">
                    选购羽绒服时，还可以通过手感、气味等方式鉴别填充物质量。
                </p>
                
                <div class="steps-video-wrapper">
                    <video 
                        controls 
                        poster="./视频封面图.jpg" 
                        style="width: 100%; height: 320px; border-radius: 12px; object-fit: cover;"
                        preload="metadata"
                    >
                        <source src="./18.mp4" type="video/mp4">
        <!-- 如果浏览器不支持video标签，显示提示文字 -->
                        您的浏览器不支持HTML5视频播放，请使用现代浏览器如Chrome、Firefox或Edge。
                    </video>
                </div>
                    
                    <div class="steps-list">
                        <div class="step-item">
                            <div class="step-number">
                                1
                            </div>
                            <div class="step-content">
                                <h4 style="font-size: 1.3rem; color: #0d47a1; margin-bottom: 0.5rem; font-weight: 600;">按</h4>
                                <p style="font-size: 1.05rem; line-height: 1.6; color: #546e7a;">
                                    将羽绒服铺平，轻轻按压然后让其自然恢复，看其是否很快回弹至原状。
                                    <br><br>
                                    <strong>判断标准：</strong>如果回弹很快，说明羽绒服的蓬松度好，羽绒保温效果好；若回弹很慢，说明填充物质量欠佳；若根本无回弹性，填充料很可能非羽绒。
                                </p>
                            </div>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-number" style="background: #4CAF50;">
                                2
                            </div>
                            <div class="step-content">
                                <h4 style="font-size: 1.3rem; color: #0d47a1; margin-bottom: 0.5rem; font-weight: 600;">揉</h4>
                                <p style="font-size: 1.05rem; line-height: 1.6; color: #546e7a;">
                                    用双手揉搓羽绒服装，感受其手感柔软程度，看有无羽毛梗或毛绒钻出。
                                    <br><br>
                                    <strong>判断标准：</strong>如有羽毛梗或毛绒钻出，说明面料不防绒，穿着后容易飞出羽毛，一段时间后保暖性更易下降。
                                </p>
                            </div>
                        </div>
                        
                        <div class="step-item">
                            <div class="step-number" style="background: #FF9800;">
                                3
                            </div>
                            <div class="step-content">
                                <h4 style="font-size: 1.3rem; color: #0d47a1; margin-bottom: 0.5rem; font-weight: 600;">拍</h4>
                                <p style="font-size: 1.05rem; line-height: 1.6; color: #546e7a;">
                                    拍打羽绒服，看有无粉尘溢出。
                                    <br><br>
                                    <strong>判断标准：</strong>如无粉尘溢出为好产品；如有，则为粉碎毛等伪劣填充料所制，不建议选购。
                                </p>
                            </div>
                        </div>
                        
                        <div class="step-item" style="border-bottom: none; margin-bottom: 0; padding-bottom: 0;">
                            <div class="step-number" style="background: #9C27B0;">
                                4
                            </div>
                            <div class="step-content">
                                <h4 style="font-size: 1.3rem; color: #0d47a1; margin-bottom: 0.5rem; font-weight: 600;">闻</h4>
                                <p style="font-size: 1.05rem; line-height: 1.6; color: #546e7a;">
                                    用鼻子接近羽绒服深呼吸数次，闻有无异味或臭味。
                                    <br><br>
                                    <strong>判断标准：</strong>无气味最佳，如有明显气味则不宜使用。
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 在视频下方添加数据来源 -->
                <div class="video-source">
                    数据来源：央视新闻
                </div>
            </div>

            <!-- 核心结论部分 -->
            <div style="text-align: center; margin-top: 3rem; padding: 2.5rem; background: #ffffff; border-radius: 16px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); border: 1px solid #e0e0e0;">
                <p style="font-size: 1.5rem; font-weight: 700; margin-bottom: 1.5rem; color: #0d47a1;">
                    📊 核心结论
                </p>
                <p style="font-size: 1.2rem; line-height: 1.8; color: #37474f;">
                    <strong>300元以下也能买到真羽绒服</strong><br>
                    但通常是轻薄款、库存款或含绒量较低的产品<br><br>
                    追求保暖效果和舒适度，建议选择：<br>
                    ✓ 300元以上价位 ✓ 正规品牌 ✓ 含绒量80%+ ✓ 充绒量适中<br><br>
                    <span style="color: #0288d1; font-weight: 700; font-size: 1.1em;">
                        理性消费，根据需求和预算选择合适产品才是最佳策略
                    </span>
                </p>
            </div>

            <!-- 修改后的数据来源 -->
            <div style="text-align: center; margin-top: 2rem; padding: 1.5rem;">
                <p style="font-size: 0.9rem; color: #78909c; line-height: 1.5;">
                    数据来源：<br>
                    央视新闻-冷空气来袭，如何正确挑选羽绒服？<br>
                    每日经济新闻-"一天一个价"，鸭绒涨到58万元/吨！商家称"四五百元也买不到好羽绒服"，选购应注意这些细节→<br>
                    第一财金-人工成本便宜一半，中国制造奔赴越南<br>
                    九派新闻-鸭绒涨价致羽绒服成本飙升，生产厂商：合理定价应为成本的2.6倍左右<br>
                    财金观察-鸭绒价格正在上涨！1吨鸭绒从17万涨到58万<br>
                    国家标准化管理委员会-GB/T 14272—2021《羽绒服装》新国标关注重点及羽绒服装选购指南<br>
                    北京晚报-揭秘羽绒服涨价背后的逻辑<br>
                    江苏新闻-"300元以下基本买不到真羽绒服"上热搜！真的吗？<br>
                    新京报-真羽绒服一般不能低于300元<br>
                    金台资讯-300元以下，难购真羽绒服？                                               
                </p>
            </div>
    </section>

    <script>
        // ========== 添加预加载函数 ==========
        function preloadBackgroundImages() {
            console.log('开始预加载背景图片...');
            const images = [
                'https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/1.jpg',
                'https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/2.jpg'
            ];
            
            let loadedCount = 0;
            images.forEach(src => {
                const img = new Image();
                img.src = src;
                img.onload = () => {
                    loadedCount++;
                    console.log(`预加载图片完成: ${src} (${loadedCount}/${images.length})`);
                };
                img.onerror = () => {
                    console.error(`预加载图片失败: ${src}`);
                };
            });
        }

        // ========== 修改switchCostChart函数，接收event参数 ==========
        function switchCostChart(event, type) {
            console.log('切换成本图表，类型:', type);
            
            // 阻止事件冒泡
            if (event) {
                event.preventDefault();
            }
            
            const buttons = document.querySelectorAll('.toggle-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // 确保事件目标正确
            let targetButton;
            if (event && event.target) {
                targetButton = event.target;
            } else if (event && event.currentTarget) {
                targetButton = event.currentTarget;
            } else {
                // 如果event参数未传递，尝试找到对应类型的按钮
                targetButton = document.querySelector(`.toggle-btn[onclick*="${type}"]`);
            }
            
            if (targetButton) {
                targetButton.classList.add('active');
            }

            // 更新图表数据
            const data = costData[type];
            if (costChart) {
                costChart.data.labels = data.labels;
                costChart.data.datasets[0].data = data.data;
                costChart.data.datasets[0].backgroundColor = data.colors;
                costChart.update();
            }

            // 切换背景图片
            const costSection = document.getElementById('costSection');
            if (!costSection) {
                console.error('找不到成本部分元素 #costSection');
                return;
            }
            
            // 先设置一个加载中的背景
            costSection.style.backgroundImage = "linear-gradient(45deg, #f5f5f5 25%, transparent 25%, transparent 50%, #f5f5f5 50%, #f5f5f5 75%, transparent 75%, transparent)";
            costSection.style.backgroundSize = "50px 50px";
            
            if (type === 'goose') {
                console.log('切换到鹅绒背景');
                // 创建新图片对象进行预加载
                const bgImage = new Image();
                bgImage.onload = function() {
                    console.log('鹅绒背景图片加载完成');
                    costSection.style.backgroundImage = "url('https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/1.jpg')";
                    costSection.style.backgroundSize = 'cover';
                    costSection.classList.remove('duck-mode');
                };
                bgImage.onerror = function() {
                    console.error('鹅绒背景图片加载失败');
                    costSection.style.backgroundImage = "url('./6.png')";
                    costSection.style.backgroundSize = 'cover';
                    costSection.classList.remove('duck-mode');
                };
                bgImage.src = 'https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/1.jpg';
            } else {
                console.log('切换到鸭绒背景');
                // 创建新图片对象进行预加载
                const bgImage = new Image();
                bgImage.onload = function() {
                    console.log('鸭绒背景图片加载完成');
                    costSection.style.backgroundImage = "url('https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/2.jpg')";
                    costSection.style.backgroundSize = 'cover';
                    costSection.classList.add('duck-mode');
                };
                bgImage.onerror = function() {
                    console.error('鸭绒背景图片加载失败');
                    costSection.style.backgroundImage = "url('./19.png')";
                    costSection.style.backgroundSize = 'cover';
                    costSection.classList.add('duck-mode');
                };
                bgImage.src = 'https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/2.jpg';
            }
        }

        // 充绒量水杯数据 - 恢复详细的交互描述
        const cupData = [
            {
                id: 'light',
                label: '轻薄款',
                image: 'https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/17.jpg',
                fillingRange: '50g – 80g',
                usage: '轻薄外套、早春防风款',
                priceRange: '80 – 300元',
                description: '充绒量仅 50g 左右的羽绒服在市场上被定位为"轻薄/内搭"，成本主要在面料与辅料，羽绒原料成本约 30 – 50元，整体成本 300元左右，低于 300元的售价往往只能在轻薄款出现。<br><br><strong>适用场景：</strong>春秋季节或南方冬季，主要起防风作用，保暖性有限。<br><strong>购买建议：</strong>适合对保暖要求不高的消费者，或作为内搭穿着。',
                isActive: false
            },
            {
                id: 'normal',
                label: '常规款',
                image: 'https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/20.jpg',
                fillingRange: '100g – 200g',
                usage: '标准短款/中长款',
                priceRange: '300 – 800元',
                description: '充绒量 150g（90% 白鸭绒）时，羽绒原料成本约 63 – 83元，面料、辅料、人工等合计 120 – 200元，整件核心成本 180 – 300元，若再加上品牌溢价与渠道费用，零售价通常在 300 – 800元之间。<br><br><strong>适用场景：</strong>大部分北方冬季日常穿着，能够抵御零下10度左右的低温。<br><strong>购买建议：</strong>性价比最高的选择，适合大多数消费者的日常需求。',
                isActive: true
            },
            {
                id: 'heavy',
                label: '加厚款',
                image: 'https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/21.jpg',
                fillingRange: '250g – 500g+',
                usage: '长款、户外专业款',
                priceRange: '800 – 2,000元+',
                description: '充绒量 ≥ 250g 时，常使用 90% 白鹅绒或高蓬松度鸭绒，原料成本单件可达 150元以上，面料往往为防水透湿功能面料，人工与防钻绒工艺费用进一步提升，整体成本 500元左右，品牌溢价与渠道费用使零售价普遍突破 800元，部分高端品牌（如 Moncler、Parajumpers）可达 2,000元以上。<br><br><strong>适用场景：</strong>东北严寒地区、户外运动、极地考察等极端环境。<br><strong>购买建议：</strong>适合对保暖有极高要求的消费者，或专业户外活动使用。',
                isActive: false
            },
            {
                id: 'extreme',
                label: '极端高端',
                image: 'https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/9.jpg',
                fillingRange: '≥ 500g（多为鹅绒）',
                usage: '专业户外/奢侈品',
                priceRange: '2,000元 – 5,000元+',
                description: '采用 90% 白鹅绒、超高蓬松度（> 800FP）以及多层防风防水面料，原料成本单件可超过 300元，整体成本 800元以上，品牌溢价与限量包装导致零售价进入千元甚至上万元档。<br><br><strong>适用场景：</strong>专业登山、极地探险、高端商务场合。<br><strong>购买建议：</strong>奢侈品消费或专业需求，普通消费者不建议购买。',
                isActive: false
            }
        ];

        // 300元以下羽绒服图片数据
        const lowPriceData = [
            {
                title: "轻薄款或低充绒量",
                image: "https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/12.jpg",
                hoverText: "许多低价羽绒服定位为初冬或室内穿着的轻便款，其充绒量远低于传统厚款，可能在50克至100克之间。充绒量的降低直接导致了核心原料成本的大幅下降。"
            },
            {
                title: "儿童款",
                image: "https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/7.jpg",
                hoverText: "儿童羽绒服因尺寸小，其充绒量和面料使用量都显著少于成人款，因此成本更低。"
            },
            {
                title: "使用成本较低的填充物",
                image: "https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/11.jpg",
                hoverText: "采用灰鸭绒或较低的绒子含量，灰鸭绒相较于白鸭绒价格更低，售价低于300元的合格产品可能采用的是50%、60%或70%等较低等级的绒子含量，而非高端产品追求的90%或95%。"
            },
            {
                title: "简化设计",
                image: "https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/5.jpg",
                hoverText: "采用最基础的面料（如普通涤纶），省略复杂的设计、功能性涂层和昂贵的辅料，最大程度地压缩了制造成本。"
            },
            {
                title: "库存清仓与过季促销",
                image: "https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/15.jpg",
                hoverText: "品牌或工厂为了清理库存、回笼资金，会对过季产品进行大幅度打折，此时售价低于300元是常见的市场行为。"
            },
            {
                title: "供应链优化与规模效应",
                image: "https://cdn.jsdelivr.net/gh/l2467236896-ui/l2467236896-ui.github.io/10.jpg",
                hoverText: "部分大型厂商或新兴电商品牌通过大规模采购、优化供应链管理、减少中间环节，能够将成本控制在极低水平，从而推出有价格竞争力的入门级产品。"
            }
        ];

        // 初始化水杯展示 - 恢复交互功能
        function initCupDisplay() {
            const cupContainer = document.getElementById('cupContainer');
            const cupDescription = document.getElementById('cupDescription');
            
            // 清空容器
            cupContainer.innerHTML = '';
            
            // 创建水杯元素
            cupData.forEach((cup, index) => {
                const cupItem = document.createElement('div');
                cupItem.className = `cup-item ${cup.isActive ? 'active' : ''}`;
                cupItem.dataset.id = cup.id;
                cupItem.onclick = () => selectCup(cup.id);
                
                // 创建图片占位符（如果没有图片）
                const imgSrc = cup.image || `https://via.placeholder.com/200x180/0288d1/ffffff?text=${cup.label}`;
                
                cupItem.innerHTML = `
                    <img src="${imgSrc}" alt="${cup.label}" class="cup-image">
                    <div class="cup-label">${cup.label}</div>
                    <div class="cup-details">
                        <div class="cup-filling-amount">${cup.fillingRange}</div>
                        <div>${cup.usage}</div>
                        <div class="cup-price-range">${cup.priceRange}</div>
                    </div>
                `;
                
                cupContainer.appendChild(cupItem);
            });
            
            // 设置初始描述
            const activeCup = cupData.find(cup => cup.isActive);
            if (activeCup) {
                cupDescription.innerHTML = `<strong>${activeCup.label}</strong><br>${activeCup.description}`;
                cupDescription.classList.add('active');
            }
        }

        // 初始化300元以下羽绒服图片展示
        function initLowPriceImages() {
            const lowPriceGrid = document.getElementById('lowPriceGrid');
            
            // 清空容器
            lowPriceGrid.innerHTML = '';
            
            // 创建图片元素
            lowPriceData.forEach((item, index) => {
                const lowPriceItem = document.createElement('div');
                lowPriceItem.className = 'low-price-item';
                
                // 使用占位图片（实际使用时请替换为真实图片路径）
                const imgSrc = item.image || `https://via.placeholder.com/350x220/e3f2fd/0d47a1?text=${item.title}`;
                
                lowPriceItem.innerHTML = `
                    <img src="${imgSrc}" alt="${item.title}" class="low-price-img">
                    <div class="low-price-title">${item.title}</div>
                    <div class="low-price-hover-info">${item.hoverText}</div>
                `;
                
                lowPriceGrid.appendChild(lowPriceItem);
            });
        }

        // 选择水杯 - 恢复交互功能
        function selectCup(cupId) {
            // 更新所有水杯状态
            cupData.forEach(cup => {
                cup.isActive = cup.id === cupId;
            });
            
            // 更新UI
            const cupItems = document.querySelectorAll('.cup-item');
            cupItems.forEach(item => {
                if (item.dataset.id === cupId) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
            
            // 更新描述
            const selectedCup = cupData.find(cup => cup.id === cupId);
            const cupDescription = document.getElementById('cupDescription');
            cupDescription.innerHTML = `<strong>${selectedCup.label}</strong><br>${selectedCup.description}`;
            cupDescription.classList.add('active');
        }

        // Scroll animation for comments and news items
        function checkScroll() {
            const items = document.querySelectorAll('.comment-item, .news-item');
            const windowHeight = window.innerHeight;

            items.forEach(item => {
                const itemTop = item.getBoundingClientRect().top;
                const delay = parseInt(item.dataset.delay) || 0;

                if (itemTop < windowHeight - 100) {
                    setTimeout(() => {
                        item.classList.add('visible');
                    }, delay);
                }
            });
        }

        // Initial check
        checkScroll();

        // Check on scroll with throttle
        let scrollTimeout;
        window.addEventListener('scroll', () => {
            if (scrollTimeout) {
                clearTimeout(scrollTimeout);
            }
            scrollTimeout = setTimeout(checkScroll, 50);
        });

        // Smooth scroll for indicator
        document.querySelector('.scroll-indicator').addEventListener('click', () => {
            window.scrollTo({
                top: window.innerHeight,
                behavior: 'smooth'
            });
        });

        // 更新成本构成图表数据
        let costChart;
        const costData = {
            goose: {
                labels: ['羽绒原料（50%）', '面料（25%）', '辅料（5%）', '人工加工（13.5%）', '其他费用（6.5%）'],
                data: [50, 25, 5, 13.5, 6.5],
                colors: ['#0288d1', '#4fc3f7', '#81d4fa', '#b3e5fc', '#e1f5fe']
            },
            duck: {
                labels: ['羽绒原料（35%）', '面料（25%）', '辅料（5%）', '人工加工（13.5%）', '其他费用（21.5%）'],
                data: [35, 25, 5, 13.5, 21.5],
                colors: ['#ff9800', '#ffb74d', '#ffcc80', '#ffe0b2', '#fff3e0']
            }
        };

        function initCostChart() {
            const ctx = document.getElementById('costChart').getContext('2d');
            costChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: costData.goose.labels,
                    datasets: [{
                        data: costData.goose.data,
                        backgroundColor: costData.goose.colors,
                        borderWidth: 0,
                        hoverOffset: 15
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                font: { size: 14 },
                                boxWidth: 15
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label;
                                }
                            }
                        }
                    }
                }
            });
        }

        function initPriceChart() {
            const ctx = document.getElementById('priceChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['2005', '2008', '2011', '2014', '2017', '2020', '2022', '2023', '2024', '2025'],
                    datasets: [
                        {
                            label: '90%白鹅绒（元/kg）',
                            data: [600, 650, 700, 750, 800, 850, 900, 950, 1050, 1100],
                            borderColor: '#0288d1',
                            backgroundColor: 'rgba(2, 136, 209, 0.1)',
                            tension: 0.4,
                            fill: true,
                            pointRadius: 5,
                            pointHoverRadius: 7
                        },
                        {
                            label: '90%白鸭绒（元/kg）',
                            data: [200, 220, 250, 280, 320, 350, 390, 450, 520, 559],
                            borderColor: '#ff9800',
                            backgroundColor: 'rgba(255, 152, 0, 0.1)',
                            tension: 0.4,
                            fill: true,
                            pointRadius: 5,
                            pointHoverRadius: 7
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: { font: { size: 14, weight: '600' } }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: {
                                display: true,
                                text: '价格（元/公斤）',
                                font: { size: 14, weight: '600' }
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: '年份',
                                font: { size: 14, weight: '600' }
                            }
                        }
                    }
                }
            });
        }

        // ========== 以下是第一个柱状图代码的JavaScript部分 ==========
        // 原始成本数据（按费用区间最高价）
        const originalCostData = [
            { 
                name: "羽绒原料", 
                cost: 83, 
                color: "#3498db",
                description: "90%白鸭绒，150g，市场价420-550元/kg"
            },
            { 
                name: "品牌溢价", 
                cost: 80, 
                color: "#9b59b6",
                description: "品牌定位、广告投放、售后服务等"
            },
            { 
                name: "零售端渠道抽成", 
                cost: 50, // 新增：零售端10%-20%的成本抽成，取中间值
                color: "#ff6b6b",
                description: "零售端渠道抽成，通常为最终零售价的10%-20%"
            },
            { 
                name: "面料", 
                cost: 40, 
                color: "#2ecc71",
                description: "常规防风/防泼水尼龙/聚酯面料"
            },
            { 
                name: "人工加工", 
                cost: 30, 
                color: "#f1c40f",
                description: "裁剪、缝制、防钻绒加固等工序"
            },
            { 
                name: "物流仓储", 
                cost: 20, 
                color: "#e67e22",
                description: "运输、仓储、物流费用"
            },
            { 
                name: "研发质检", 
                cost: 20, 
                color: "#1abc9c",
                description: "设计研发、包装、质检"
            },
            { 
                name: "里布内胆", 
                cost: 15, 
                color: "#34495e",
                description: "轻薄防风里布或加绒里布"
            },
            { 
                name: "辅料", 
                cost: 10, 
                color: "#95a5a6",
                description: "拉链、扣子、缝纫线、胶合剂等"
            }
        ];

        // 当前数据（可修改）
        let currentCostData = JSON.parse(JSON.stringify(originalCostData));
        
        // 记录已应用的调整
        let appliedAdjustments = new Set();
        
        // 计算总成本
        function calculateTotalCost(data) {
            return data.reduce((total, item) => total + item.cost, 0);
        }
        
        // 初始化柱状图图表
        let costBarChart;
        
        function initializeBarChart() {
            const ctx = document.getElementById('costChartBar').getContext('2d');
            
            // 对数据进行排序（从大到小，堆叠时最大的在底部）
            const sortedData = [...currentCostData].sort((a, b) => b.cost - a.cost);
            
            // 提取数据
            const labels = sortedData.map(item => item.name);
            const costs = sortedData.map(item => item.cost);
            const colors = sortedData.map(item => item.color);
            
            // 销毁之前的图表
            if (costBarChart) {
                costBarChart.destroy();
            }
            
            // 创建新图表 - 单列堆叠柱状图
            costBarChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['羽绒服成本构成'],
                    datasets: sortedData.map((item, index) => ({
                        label: item.name,
                        data: [item.cost], // 单列数据
                        backgroundColor: item.color,
                        borderColor: 'rgba(255, 255, 255, 0.8)',
                        borderWidth: 1,
                        stack: 'stack1' // 所有数据集使用同一个堆叠组
                    }))
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    scales: {
                        x: {
                            stacked: true,
                            beginAtZero: true,
                            max: 400,
                            title: {
                                display: true,
                                text: '成本金额（元）',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            },
                            ticks: {
                                stepSize: 50
                            }
                        },
                        y: {
                            stacked: true,
                            display: true,
                            ticks: {
                                display: false // 隐藏Y轴标签，因为我们只有一列
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                boxWidth: 12,
                                padding: 15,
                                font: {
                                    size: 12
                                }
                            }
                        },
                        tooltip: {
                            mode: 'nearest',
                            intersect: false,
                            position: 'nearest',
                            callbacks: {
                                label: function(context) {
                                    const datasetIndex = context.datasetIndex;
                                    const costItem = sortedData[datasetIndex];
                                    const totalCost = calculateTotalCost(sortedData);
                                    const percentage = ((costItem.cost / totalCost) * 100).toFixed(1);
                                    return [
                                        `${costItem.name}: ${costItem.cost}元`,
                                        `占比: ${percentage}%`,
                                        `说明: ${costItem.description}`
                                    ];
                                }
                            },
                            backgroundColor: 'rgba(0, 0, 0, 0.85)',
                            titleFont: { size: 13 },
                            bodyFont: { size: 12 },
                            padding: 10
                        }
                    },
                    animation: {
                        duration: 600,
                        easing: 'easeOutQuart'
                    }
                }
            });
            
            // 更新总成本显示
            updateCostSummary();
            
            // 更新300元参考线位置
            updateTargetLine();
        }
        
        // 更新成本汇总显示
        function updateCostSummary() {
            const totalCost = calculateTotalCost(currentCostData);
            const retailMin = Math.round(totalCost * 1.5);
            const retailMax = Math.round(totalCost * 2.2);
            
            document.getElementById('totalCost').textContent = `总成本: ${totalCost}元`;
            document.getElementById('costBreakdown').textContent = 
                `预计零售价: ${retailMin}-${retailMax}元 (1.5-2.2倍加价)`;
        }
        
        // 更新300元参考线位置
        function updateTargetLine() {
            const targetLine = document.getElementById('targetLine');
            const targetLabel = document.getElementById('targetLabel');
            
            // 延迟执行，确保图表已渲染
            setTimeout(() => {
                if (!costBarChart) return;
                
                const xScale = costBarChart.scales.x;
                const chartArea = costBarChart.chartArea;
                
                // 计算300元在X轴上的像素位置
                const pixelPerUnit = xScale.width / xScale.max;
                const targetPixel = xScale.left + (300 * pixelPerUnit);
                
                // 确保参考线在图表区域内
                if (targetPixel >= chartArea.left && targetPixel <= chartArea.right) {
                    targetLine.style.left = targetPixel + 'px';
                    targetLine.style.top = chartArea.top + 'px';
                    targetLine.style.height = (chartArea.bottom - chartArea.top) + 'px';
                    targetLine.style.display = 'block';
                    
                    targetLabel.style.left = (targetPixel + 5) + 'px';
                    targetLabel.style.top = (chartArea.top + 10) + 'px';
                    targetLabel.style.display = 'block';
                } else {
                    targetLine.style.display = 'none';
                    targetLabel.style.display = 'none';
                }
            }, 100);
        }
        
        // 成本调整函数
        function adjustCost(adjustments, buttonId) {
            currentCostData.forEach(item => {
                if (adjustments[item.name]) {
                    // 确保成本不低于0
                    item.cost = Math.max(0, Math.round(item.cost * adjustments[item.name]));
                }
            });
            
            // 更新按钮状态
            if (buttonId) {
                const button = document.getElementById(buttonId);
                if (button) {
                    button.classList.toggle('active');
                    
                    // 如果已经是激活状态，则添加到已应用集合
                    if (button.classList.contains('active')) {
                        appliedAdjustments.add(buttonId);
                    } else {
                        appliedAdjustments.delete(buttonId);
                    }
                }
            }
            
            initializeBarChart();
        }
        
        // 重置所有调整
        function resetAllAdjustments() {
            currentCostData = JSON.parse(JSON.stringify(originalCostData));
            
            // 重置所有按钮状态
            const buttons = document.querySelectorAll('.cost-analysis-chart-container .control-button:not(.reset)');
            buttons.forEach(button => {
                button.classList.remove('active');
            });
            
            // 清空已应用调整记录
            appliedAdjustments.clear();
            
            initializeBarChart();
        }

        // 绑定柱状图按钮事件
        function bindBarChartEvents() {
            document.getElementById('reduceDown').addEventListener('click', function() {
                adjustCost({
                    "羽绒原料": 0.7, // 减少30%
                }, 'reduceDown');
            });
            
            document.getElementById('reduceBrand').addEventListener('click', function() {
                adjustCost({
                    "品牌溢价": 0.5, // 减少50%
                }, 'reduceBrand');
            });
            
            document.getElementById('reduceFabric').addEventListener('click', function() {
                adjustCost({
                    "面料": 0.6, // 减少40%
                }, 'reduceFabric');
            });
            
            document.getElementById('reduceLabor').addEventListener('click', function() {
                adjustCost({
                    "人工加工": 0.7, // 减少30%
                }, 'reduceLabor');
            });
            
            document.getElementById('reduceChannel').addEventListener('click', function() {
                adjustCost({
                    "零售端渠道抽成": 0.6, // 减少40%
                }, 'reduceChannel');
            });
            
            document.getElementById('resetAll').addEventListener('click', resetAllAdjustments);
        }
        // ========== 以上是第一个柱状图代码的JavaScript部分 ==========

        window.addEventListener('DOMContentLoaded', () => {
            console.log('DOM已加载，开始初始化...');
            
            // 预加载背景图片
            preloadBackgroundImages();
            
            // 初始化所有图表和组件
            initCostChart();
            initPriceChart();
            initCupDisplay();
            initLowPriceImages();
            
            // 初始化柱状图
            initializeBarChart();
            bindBarChartEvents();
            
            // 窗口大小改变时重新定位参考线
            window.addEventListener('resize', updateTargetLine);
            
            // 检查成本部分的背景图片是否已加载
            setTimeout(() => {
                const costSection = document.getElementById('costSection');
                console.log('成本部分背景图片:', costSection.style.backgroundImage);
                
                // 强制重新应用背景样式
                costSection.style.backgroundSize = 'cover';
                costSection.style.backgroundPosition = 'center';
                costSection.style.backgroundRepeat = 'no-repeat';
                costSection.style.backgroundAttachment = 'fixed';
            }, 500);
        });
    </script>
</body>
</html>